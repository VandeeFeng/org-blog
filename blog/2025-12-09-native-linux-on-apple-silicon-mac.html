<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="description" content="整理了一下我在 mac 上安装 Linux 的过程，分享给想入坑 Linux 的轻度玩家。">
<link rel="alternate"
      type="application/rss+xml"
      href="https://www.vandee.art/blog/rss.xml"
      title="RSS feed for https://www.vandee.art/blog/">
<title>Native Linux on Apple Silicon Mac</title>
<meta property="og:title" content="Native Linux on Apple Silicon Mac">
<meta property="og:type" content="article" />
<meta property="og:description" content="整理了一下我在 mac 上安装 Linux 的过程，分享给想入坑 Linux 的轻度玩家。">
<meta property="og:url" content="https://www.vandee.art/blog/2025-12-09-native-linux-on-apple-silicon-mac.html">
<meta name="author" content="Vandee">
       <meta name="referrer" content="origin-when-cross-origin">
       <meta name="viewport" content="width=device-width, initial-scale=1.0">

       <link rel="stylesheet" href="assets/css/blog-style.css" type="text/css"/>
       <link rel="stylesheet"
             href="https://testingcf.jsdelivr.net/npm/remixicon@4.7.0/fonts/remixicon.css"/>
       <link rel="stylesheet"
             href="https://testingcf.jsdelivr.net/npm/@fancyapps/ui@4.0.12/dist/fancybox.css"/>
       <link rel="icon" type="image/x-icon" href="/favicon.ico"/>

       <script src="https://testingcf.jsdelivr.net/npm/@fancyapps/ui@4.0.12/dist/fancybox.umd.js" defer></script>
       <script src="https://testingcf.jsdelivr.net/npm/pangu@7.2.0/dist/browser/pangu.umd.js" defer></script>
       <script defer>
         document.addEventListener("DOMContentLoaded", () => {
           pangu.autoSpacingPage();
         });
       </script>

       <script src="assets/js/app.js" defer></script>
       <script src="assets/js/copyCode.js" defer></script>
       <script src="assets/js/shiba.js" defer></script>
       <script src="assets/js/search.js" defer></script></head>
<body>
<div id="preamble" class="status">
      <header>
      <h1><a href="https://www.vandee.art/blog/">Vandee's Blog</a></h1>
      <img class="shiba" width="100px" src="assets/shiba_gif/shiba_idle_8fps.gif">
      <nav>
      <a href="https://www.vandee.art/blog/">Home</a>
      <a href="https://x404.xyz/wiki">Wiki</a>
      <a href="https://x404.xyz/photo">Photo</a>
      <a href="projects.html">Projects</a>
      <a href="archive.html">Archive</a>
      <a href="tags.html">Tags</a>
      <div id="search-container">
        <input type="text" id="search-input" placeholder="e.g. Emacs PKM...">
        <i class="ri-search-line ri-xl"></i>
      </div>
      </nav>
      </header></div>
<div id="content">
<div class="post-date">09 Dec 2025</div><h1 class="post-title"><a href="https://www.vandee.art/blog/2025-12-09-native-linux-on-apple-silicon-mac.html">Native Linux on Apple Silicon Mac</a></h1>
<nav id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#org320c245">TL;DR</a></li>
<li><a href="#org00e7613">Why Linux</a></li>
<li><a href="#org468644e">Asahi Alarm</a>
<ul>
<li><a href="#orgd6b9dab">初始化安装</a></li>
<li><a href="#orga1d62f0">WM &amp; DM</a></li>
<li><a href="#org2cda9d2">App launcher</a></li>
<li><a href="#org3f358c9">Theme</a></li>
<li><a href="#orgcfb3bbf">Bluetooth &amp;&amp; Wi-Fi</a></li>
<li><a href="#org1a26ff5">Fcitx &amp;&amp; Rime 输入法</a></li>
<li><a href="#org07dc7a0">Obs Studio</a></li>
</ul>
</li>
<li><a href="#orgfc2eff1">Settings</a>
<ul>
<li><a href="#org9ecc728">Sway</a></li>
<li><a href="#orga7cf43e">Others</a></li>
</ul>
</li>
</ul>
</div>
</nav>
<div id="outline-container-org320c245" class="outline-2">
<h2 id="org320c245">TL;DR</h2>
<div class="outline-text-2" id="text-org320c245">
<p>
几个月之前我在 MacBook M1 Pro 上安装了 Linux (不是虚拟机)，处理照片的时候切换到 macOS，平常就 Linux，使用下来挺稳定的。
</p>

<p>
这几个月 Windows 持续的一些负面新闻，让 Linux 有一波小热度。整理了一下我在 Mac 上安装 Linux 的过程，分享给想入坑 Linux 的轻度玩家。
</p>

<p>
大佬请直接关闭页面。
</p>
</div>
</div>
<div id="outline-container-org00e7613" class="outline-2">
<h2 id="org00e7613">Why Linux</h2>
<div class="outline-text-2" id="text-org00e7613">
<p>
买这个 MacBook 的初衷主要是处理摄影照片，M1 系列出来的时候一直垂涎它遥遥领先的性能。整体使用下来 Mac 的体验也挺舒适，Mac 在数码影像处理这个生态还是吊的。
</p>

<p>
使用 Mac 的普通用户大多数都是因为精致设计感的 UI，苹果的品牌效应，我也是如此。但是这几年苹果的发展实在是让我很没有期待，今年更是大便一坨。
</p>

<p>
苹果的品牌效应 90% 来自乔帮主的个人魅力，我觉得一点也不为过。如今苹果的老本快被吃完了，创新的东西有，但是灵魂我觉得早已不在。
</p>

<p>
之前都是在虚拟机上使用 Linux，最初也没有想完全入坑 Linux。转折点就是 Linus 的自传《Just For Fun》，我有太多想法和 Linus 不谋而合。在苹果没有了乔布斯的个人魅力之后，它能吸引我的越来越少，Linux 对我的吸引越来越大。
</p>

<p>
当个人电脑 PC 对我来说不再只是一个工具，而是一个伙伴的时候，Linux 就是现在最适合我的操作系统，<a href="https://www.vandee.art/blog/2025-07-16-linux-is-awesome.html">Linux 太自由了</a> 。
</p>
</div>
</div>
<div id="outline-container-org468644e" class="outline-2">
<h2 id="org468644e">Asahi Alarm</h2>
<div class="outline-text-2" id="text-org468644e">

<figure id="org7701fbc">
<img src="https://pic.vandee.art/images/20251213_maclinux.png" class="img" width="70%" height="70%">

</figure>

<p>
最开始我尝试的是 Asahi Linux，按照这个视频很快就搞定了： <a href="https://www.youtube.com/watch?v=u_kcXg00R2g">「黑貓」Asahi Linux！M1 Mac 原生運行 Linux 雙系統，簡單流暢！ - YouTube</a>
</p>

<p>
Asahi Linux 预装的是 Fedora，初始化安装到进入图形界面都没问题，但是当我执行更新，安装了一些包之后，再重启，总是会遇到各种系统崩溃问题，尝试了数次之后，就没有再折腾了。
</p>

<p>
也是巧了，正在我发愁的时候：<a href="https://omarchy.org/">Omarchy — Beautiful, Modern &amp; Opinionated Linux by DHH</a> 出现了。
</p>

<p>
Omarchy 是 Ruby 的联合创始人 DHH 推的一个能在 Mac 上运行的 基于 Arch Linux 的 Linux 发行版。
</p>

<p>
但是我不太喜欢它默认的主题，默认快捷键设置也和我的习惯很不一样，还有许多我不需要的预安装。尝试了几天之后也否定了这个方案。
</p>

<p>
然后发现宝藏：<a href="https://asahi-alarm.org/">Asahi Alarm</a> , <a href="https://github.com/basecamp/omarchy/discussions/155">https://github.com/basecamp/omarchy/discussions/155</a>
</p>

<p>
完成度相当高啊！除了耗电量略高一点，和原生分辨率不太兼容，其他的相当完美了。
</p>
</div>
<div id="outline-container-orgd6b9dab" class="outline-3">
<h3 id="orgd6b9dab">初始化安装</h3>
<div class="outline-text-3" id="text-orgd6b9dab">
<p>
它就是一个裸的 Arch Linux。
</p>

<p>
在 Mac 上打开 terminal，运行 <code>curl https://asahi-alarm.org/installer-bootstrap.sh | sh</code> ，基本就全自动安装了，具体的安装过程和 Asahi Linux 是一样的。
</p>

<p>
需要科学上网。
</p>

<p>
安装完成之后，就可以进入到 Asahi Alarm 了，这个时候还没有图形界面，可以命令行安装一些基础的包。
</p>

<p>
Pacman 是 Arch Linux 默认的包管理器 ，<a href="https://github.com/Morganamilo/paru">Morganamilo/paru</a> 是 Rust 版本的 yay AUR 包管理器。
</p>
</div>
</div>
<div id="outline-container-orga1d62f0" class="outline-3">
<h3 id="orga1d62f0">WM &amp; DM</h3>
<div class="outline-text-3" id="text-orga1d62f0">
<p>
接下来就是安装显示器协议（display server protocol）和 WM（window managers），我选择的是 <a href="https://wiki.archlinux.org/title/Wayland">Wayland</a> + <a href="https://swaywm.org/">Sway</a> ，极简就完事了。Hyprland 也很不错，但是我目前对折腾 Linux 的界面没有太大兴趣，也不需要它多美观。
</p>

<p>
创建好 Linux 用户之后 <code>sudo pacman -S wayland sway</code> 安装。
</p>

<p>
输入 sway 就可以进入到图形界面了。想自动进入图形界面，Linux 里可以安装 DM（display managers）
</p>

<p>
DM 我选择的是 <a href="https://github.com/coastalwhite/lemurs">Lemurs</a> 也是因为它足够简单。
</p>
</div>
</div>
<div id="outline-container-org2cda9d2" class="outline-3">
<h3 id="org2cda9d2">App launcher</h3>
<div class="outline-text-3" id="text-org2cda9d2">
<p>
<a href="https://codeberg.org/dnkl/fuzzel">dnkl/fuzzel</a>
</p>

<p>
因为之前在 i3 里使用 dmenu，fuzzel 也足够简洁，和 sway 的匹配度也很高。
</p>

<p>
Vicinae 也挺好用，和 raycast 挺像: <a href="https://github.com/vicinaehq/vicinae/">https://github.com/vicinaehq/vicinae/</a>
</p>
</div>
</div>
<div id="outline-container-org3f358c9" class="outline-3">
<h3 id="org3f358c9">Theme</h3>
<div class="outline-text-3" id="text-org3f358c9">
<p>
<a href="https://github.com/vinceliuice/Qogir-theme">vinceliuice/Qogir-theme: Qogir is a flat Design theme for GTK</a>
</p>

<p>
theme 文件可以在 ~/.themes/, 或者 /usr/share/themes
</p>

<ul class="org-ul">
<li>统一 gtk 和 qt 主题：sudo pacman -S &#x2013;noconfirm lxappearance qt5ct qt6ct kvantum</li>

<li><p>
lxappearance 来配置主题，可能需要安装：sudo pacman -S gtk-engine-murrine gnome-themes-extra gtk-engines
</p>

<p>
wayland 里用 nwg-look
</p></li>
</ul>
</div>
</div>
<div id="outline-container-orgcfb3bbf" class="outline-3">
<h3 id="orgcfb3bbf">Bluetooth &amp;&amp; Wi-Fi</h3>
<div class="outline-text-3" id="text-orgcfb3bbf">
<ul class="org-ul">
<li><p>
impala: 🛜 TUI for managing wifi on Linux
</p>

<p>
<a href="https://github.com/pythops/impala">https://github.com/pythops/impala</a>
</p></li>

<li><p>
bluetui: 🛜 TUI for managing bluetooth on Linux
</p>

<p>
<a href="https://github.com/pythops/bluetui">https://github.com/pythops/bluetui</a>
</p></li>
</ul>
</div>
</div>
<div id="outline-container-org1a26ff5" class="outline-3">
<h3 id="org1a26ff5">Fcitx &amp;&amp; Rime 输入法</h3>
<div class="outline-text-3" id="text-org1a26ff5">
<p>
参考：<a href="https://manateelazycat.github.io/2025/08/31/fcitx-best-config/">Fcitx 最佳配置实践 2025-08-31</a>
</p>

<p>
Rime + 双拼实在是太巴适了。
</p>

<p>
Rime 推荐使用：<a href="https://github.com/rime/plum">rime/plum: 東風破 </a> 安装。
</p>

<p>
输入法：<a href="https://github.com/iDvel/rime-ice">iDvel/rime-ice: Rime 配置：雾凇拼音 | 长期维护的简体词库</a>
</p>
</div>
</div>
<div id="outline-container-org07dc7a0" class="outline-3">
<h3 id="org07dc7a0">Obs Studio</h3>
<div class="outline-text-3" id="text-org07dc7a0">
<p>
Asahi Alarm 里， <code>sudo pacman -S obs-studio</code> 显示没有这个包。
</p>

<p>
安装 CMake 自己手动编译:
</p>

<p>
下载源代码：
</p>

<p>
<code>git clone --depth 1 --recurse --shallow-submodules https://github.com/obsproject/obs-studio.git</code>
</p>

<p>
我在编译的时候提示缺少头文件，因此:
</p>

<p>
<code>sudo pacman -S qt6-xcb-private-headers</code>
</p>

<p>
然后成功编译：
</p>

<p>
<code>cmake -DCMAKE_INSTALL_PREFIX=/usr -DENABLE_BROWSER=OFF -DENABLE_VLC=ON -DENABLE_AJA=OFF..</code>
</p>

<p>
如果 PipeWire 选项缺失: wlrobs 是一个 OBS 插件，专为 Wayland 提供屏幕捕获支持，尤其在 Hyprland 或 River 等合成器下有效。paru -S wlrobs-hg。
</p>
</div>
</div>
</div>
<div id="outline-container-orgfc2eff1" class="outline-2">
<h2 id="orgfc2eff1">Settings</h2>
<div class="outline-text-2" id="text-orgfc2eff1">
<p>
其他的初始化安装，我让 LLM 写了一个简单的小脚本来安装一些我需要的软件，字体，rime 输入法等。
</p>

<p>
下面列举的是一些困扰过我的地方，其他细小的设置 Claude CLI 基本都可以解决。
</p>
</div>
<div id="outline-container-org9ecc728" class="outline-3">
<h3 id="org9ecc728">Sway</h3>
<div class="outline-text-3" id="text-org9ecc728">
<p>
Sway 会初始化一个配置文件在 <code>~/.config/sway/config</code> ，在配置文件里修改就好了。
</p>

<p>
分辨率设置：如果不放大，字就跟蚂蚁一样小
</p>

<p>
Asahi Alarm 由于苹果硬件的限制，只能缩放，更改不了分辨率，也可能是我没有找对方法。常规设置分辨率的方法不管用。
</p>

<p>
<code>exec --no-startup-id xrandr --output eDP-1 --scale 1.5x1.5</code>
</p>

<p>
截图:
</p>

<p>
使用 grim + swappy ,由于之前缩放的原因，flameshot 在截图的时候调用 grim 截图也是放大的，而且有兼容性问题。
</p>

<p>
<code>bindsym $mod+s exec --no-startup-id sh -c 'grim -g "$(slurp)" -s 1 - | swappy -f -'</code>
</p>

<p>
加上了 -s 1 参数，就可以解决截图放大的问题了。
</p>

<p>
OCR: 需要安装 <a href="https://github.com/tesseract-ocr/tesseract">tesseract-ocr/tesseract</a> 并下载相应语言的包
</p>

<p>
<code>bindsym $mod+Shift+s exec --no-startup-id ~/MyScripts/screenshot_ocr.sh</code>
</p>

<p>
这个脚本就是一个很简单的创建 tmp 截图文件，用 tesseract 识别保存到系统剪贴板。
</p>

<p>
设置系统音量：我耳朵被炸了好几次。。。
</p>

<p>
<code>exec --no-startup-id pactl set-sink-volume \@DEFAULT_SINK@ 55%</code>
</p>

<p>
设置系统显示器亮度：
</p>

<p>
<code>exec --no-startup-id brightnessctl set 20%</code>
</p>

<p>
和音量一样，如果不设置它会有一个默认的值，每次重启就需要重新设置。
</p>

<p>
设置壁纸：
</p>

<p>
<code>output * bg /home/vandee/Pictures/create.jpg fill</code>
</p>

<p>
剪贴板：
<code>exec wl-paste --watch cliphist store</code>
</p>
</div>
</div>
<div id="outline-container-orga7cf43e" class="outline-3">
<h3 id="orga7cf43e">Others</h3>
<div class="outline-text-3" id="text-orga7cf43e">
<ul class="org-ul">
<li><p>
调整对比度
</p>

<p>
<code>sudo pacman -S xorg-xgamma</code>
</p>

<p>
<code>xgamma -gamma 0.8</code>
</p></li>
<li><p>
设置屏幕亮度
</p>

<p>
<code>brightnessctl set 20%</code>
</p></li>
<li><p>
解决 macbooks 无法播放音频的问题：
</p>

<p>
<code>sudo pacman -S asahi-audio</code>
</p></li>
<li><p>
opensnatch 因为 eBPF 报错
</p>

<p>
修改 <code>/etc/opensnitchd/default-config.json</code>
</p>

<p>
把 procmonitormethod 更改成 proc
</p></li>

<li><p>
音量控制：sudo pacman -S pavucontrol
</p>

<p>
更轻量化的：sudo pacman -S volumeicon
</p></li>
</ul>
</div>
</div>
</div>
<div class="taglist"><a href="https://www.vandee.art/blog/tags.html">Tags</a>: <a href="https://www.vandee.art/blog/tag-linux.html">Linux</a> </div></div>
<div id="postamble" class="status"><div id="search-results"></div>
      <footer>
         <p>
            © 2022-<script>document.write(new Date().getFullYear())</script> Vandee. All rights reserved.
         </p>
        <div class="social-links"></div>
      </footer>

      <a href="#top" aria-label="go to top" title="Go to Top (Alt + G)"
         class="top-link" id="top-link" accesskey="g">
         <i class="ri-arrow-up-double-line ri-3x"></i>
      </a>

      <script>
        var mybutton = document.getElementById('top-link');
        window.onscroll = function () {
            if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
                mybutton.style.visibility = 'visible';
                mybutton.style.opacity = '1';
            } else {
                mybutton.style.visibility = 'hidden';
                mybutton.style.opacity = '0';
            }
        };
      </script></div>
</body>
</html>
